{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Lenovo\\\\Desktop\\\\firebase-blog-master\\\\src\\\\pages\\\\Home.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport { collection, deleteDoc, doc, getDocs, limit, onSnapshot, query, orderBy, where, startAfter } from \"firebase/firestore\";\nimport React, { useState, useEffect } from \"react\";\nimport BlogSection from \"../components/BlogSection\";\nimport Spinner from \"../components/Spinner\";\nimport { db } from \"../firebase\";\nimport { toast } from \"react-toastify\";\nimport Tags from \"../components/Tags\";\nimport FeatureBlogs from \"../components/FeatureBlogs\";\nimport Trending from \"../components/Trending\";\nimport Search from \"../components/Search\";\nimport { isEmpty, isNull } from \"lodash\";\nimport { useLocation } from \"react-router-dom\";\nimport Category from \"../components/Category\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction useQuery() {\n  _s();\n\n  return new URLSearchParams(useLocation().search);\n}\n\n_s(useQuery, \"EuD9q2dZ34PfN/QO2OBhBzeMxmY=\", false, function () {\n  return [useLocation];\n});\n\nconst Home = _ref => {\n  _s2();\n\n  let {\n    setActive,\n    user,\n    active\n  } = _ref;\n  const [loading, setLoading] = useState(true);\n  const [blogs, setBlogs] = useState([]);\n  const [tags, setTags] = useState([]);\n  const [search, setSearch] = useState(\"\");\n  const [lastVisible, setLastVisible] = useState(null);\n  const [trendBlogs, setTrendBlogs] = useState([]);\n  const [totalBlogs, setTotalBlogs] = useState(null);\n  const [hide, setHide] = useState(false);\n  const queryString = useQuery();\n  const searchQuery = queryString.get(\"searchQuery\");\n  const location = useLocation();\n\n  const getTrendingBlogs = async () => {\n    const blogRef = collection(db, \"blogs\");\n    const trendQuery = query(blogRef, where(\"trending\", \"==\", \"yes\"));\n    const querySnapshot = await getDocs(trendQuery);\n    let trendBlogs = [];\n    querySnapshot.forEach(doc => {\n      trendBlogs.push({\n        id: doc.id,\n        ...doc.data()\n      });\n    });\n    setTrendBlogs(trendBlogs);\n  };\n\n  useEffect(() => {\n    getTrendingBlogs();\n    setSearch(\"\");\n    const unsub = onSnapshot(collection(db, \"blogs\"), snapshot => {\n      let list = [];\n      let tags = [];\n      snapshot.docs.forEach(doc => {\n        tags.push(...doc.get(\"tags\"));\n        list.push({\n          id: doc.id,\n          ...doc.data()\n        });\n      });\n      const uniqueTags = [...new Set(tags)];\n      setTags(uniqueTags);\n      setTotalBlogs(list); // setBlogs(list);\n\n      setLoading(false);\n      setActive(\"home\");\n    }, error => {\n      console.log(error);\n    });\n    return () => {\n      unsub();\n      getTrendingBlogs();\n    };\n  }, [setActive, active]);\n  useEffect(() => {\n    getBlogs();\n    setHide(false);\n  }, [active]);\n\n  const getBlogs = async () => {\n    const blogRef = collection(db, \"blogs\");\n    console.log(blogRef);\n    const firstFour = query(blogRef, orderBy(\"title\"), limit(4));\n    const docSnapshot = await getDocs(firstFour);\n    setBlogs(docSnapshot.docs.map(doc => ({\n      id: doc.id,\n      ...doc.data()\n    })));\n    setLastVisible(docSnapshot.docs[docSnapshot.docs.length - 1]);\n  };\n\n  console.log(\"blogs\", blogs);\n\n  const updateState = docSnapshot => {\n    const isCollectionEmpty = docSnapshot.size === 0;\n\n    if (!isCollectionEmpty) {\n      const blogsData = docSnapshot.docs.map(doc => ({\n        id: doc.id,\n        ...doc.data()\n      }));\n      setBlogs(blogs => [...blogs, ...blogsData]);\n      setLastVisible(docSnapshot.docs[docSnapshot.docs.length - 1]);\n    } else {\n      toast.info(\"No more blog to display\");\n      setHide(true);\n    }\n  };\n\n  const fetchMore = async () => {\n    setLoading(true);\n    const blogRef = collection(db, \"blogs\");\n    const nextFour = query(blogRef, orderBy(\"title\"), limit(4), startAfter(lastVisible));\n    const docSnapshot = await getDocs(nextFour);\n    updateState(docSnapshot);\n    setLoading(false);\n  };\n\n  const searchBlogs = async () => {\n    const blogRef = collection(db, \"blogs\");\n    const searchTitleQuery = query(blogRef, where(\"title\", \"==\", searchQuery));\n    const searchTagQuery = query(blogRef, where(\"tags\", \"array-contains\", searchQuery));\n    const titleSnapshot = await getDocs(searchTitleQuery);\n    const tagSnapshot = await getDocs(searchTagQuery);\n    let searchTitleBlogs = [];\n    let searchTagBlogs = [];\n    titleSnapshot.forEach(doc => {\n      searchTitleBlogs.push({\n        id: doc.id,\n        ...doc.data()\n      });\n    });\n    tagSnapshot.forEach(doc => {\n      searchTagBlogs.push({\n        id: doc.id,\n        ...doc.data()\n      });\n    });\n    const combinedSearchBlogs = searchTitleBlogs.concat(searchTagBlogs);\n    setBlogs(combinedSearchBlogs);\n    setHide(true);\n    setActive(\"\");\n  };\n\n  useEffect(() => {\n    if (!isNull(searchQuery)) {\n      searchBlogs();\n    }\n  }, [searchQuery]);\n\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 12\n    }, this);\n  }\n\n  const handleDelete = async id => {\n    if (window.confirm(\"Are you sure wanted to delete that blog ?\")) {\n      try {\n        setLoading(true);\n        await deleteDoc(doc(db, \"blogs\", id));\n        toast.success(\"Blog deleted successfully\");\n        setLoading(false);\n      } catch (err) {\n        console.log(err);\n      }\n    }\n  };\n\n  const handleChange = e => {\n    const {\n      value\n    } = e.target;\n\n    if (isEmpty(value)) {\n      console.log(\"test\");\n      getBlogs();\n      setHide(false);\n    }\n\n    setSearch(value);\n  }; // category count\n\n\n  const counts = totalBlogs.reduce((prevValue, currentValue) => {\n    let name = currentValue.category;\n\n    if (!prevValue.hasOwnProperty(name)) {\n      prevValue[name] = 0;\n    }\n\n    prevValue[name]++; // delete prevValue[\"undefined\"];\n\n    return prevValue;\n  }, {});\n  const categoryCount = Object.keys(counts).map(k => {\n    return {\n      category: k,\n      count: counts[k]\n    };\n  });\n  console.log(\"categoryCount\", categoryCount);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container-fluid pb-4 pt-4 padding\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container padding\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row mx-0\",\n        children: [/*#__PURE__*/_jsxDEV(Trending, {\n          blogs: trendBlogs\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"blog-heading text-start py-2 mb-4\",\n            children: \"Daily Blogs\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 13\n          }, this), blogs.length === 0 && location.pathname !== \"/\" && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: /*#__PURE__*/_jsxDEV(\"h4\", {\n              children: [\"No Blog found with search keyword:\", \" \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: searchQuery\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 217,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 17\n            }, this)\n          }, void 0, false), blogs === null || blogs === void 0 ? void 0 : blogs.map(blog => /*#__PURE__*/_jsxDEV(BlogSection, {\n            user: user,\n            handleDelete: handleDelete,\n            ...blog\n          }, blog.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 15\n          }, this)), !hide && /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary\",\n            onClick: fetchMore,\n            children: \"Load More\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-3\",\n          children: [/*#__PURE__*/_jsxDEV(Search, {\n            search: search,\n            handleChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"blog-heading text-start py-2 mb-4\",\n            children: \"Tags\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Tags, {\n            tags: tags\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(FeatureBlogs, {\n            title: \"Most Popular\",\n            blogs: blogs\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Category, {\n            catgBlogsCount: categoryCount\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 207,\n    columnNumber: 5\n  }, this);\n};\n\n_s2(Home, \"j/Hw3pu/TtzSz2Nx4g4oN++z/8Y=\", false, function () {\n  return [useQuery, useLocation];\n});\n\n_c = Home;\nexport default Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["collection","deleteDoc","doc","getDocs","limit","onSnapshot","query","orderBy","where","startAfter","React","useState","useEffect","BlogSection","Spinner","db","toast","Tags","FeatureBlogs","Trending","Search","isEmpty","isNull","useLocation","Category","useQuery","URLSearchParams","search","Home","setActive","user","active","loading","setLoading","blogs","setBlogs","tags","setTags","setSearch","lastVisible","setLastVisible","trendBlogs","setTrendBlogs","totalBlogs","setTotalBlogs","hide","setHide","queryString","searchQuery","get","location","getTrendingBlogs","blogRef","trendQuery","querySnapshot","forEach","push","id","data","unsub","snapshot","list","docs","uniqueTags","Set","error","console","log","getBlogs","firstFour","docSnapshot","map","length","updateState","isCollectionEmpty","size","blogsData","info","fetchMore","nextFour","searchBlogs","searchTitleQuery","searchTagQuery","titleSnapshot","tagSnapshot","searchTitleBlogs","searchTagBlogs","combinedSearchBlogs","concat","handleDelete","window","confirm","success","err","handleChange","e","value","target","counts","reduce","prevValue","currentValue","name","category","hasOwnProperty","categoryCount","Object","keys","k","count","pathname","blog"],"sources":["C:/Users/Lenovo/Desktop/firebase-blog-master/src/pages/Home.js"],"sourcesContent":["import {\n  collection,\n  deleteDoc,\n  doc,\n  getDocs,\n  limit,\n  onSnapshot,\n  query,\n  orderBy,\n  where,\n  startAfter,\n} from \"firebase/firestore\";\nimport React, { useState, useEffect } from \"react\";\nimport BlogSection from \"../components/BlogSection\";\nimport Spinner from \"../components/Spinner\";\nimport { db } from \"../firebase\";\nimport { toast } from \"react-toastify\";\nimport Tags from \"../components/Tags\";\nimport FeatureBlogs from \"../components/FeatureBlogs\";\nimport Trending from \"../components/Trending\";\nimport Search from \"../components/Search\";\nimport { isEmpty, isNull } from \"lodash\";\nimport { useLocation } from \"react-router-dom\";\nimport Category from \"../components/Category\";\n\nfunction useQuery() {\n  return new URLSearchParams(useLocation().search);\n}\n\nconst Home = ({ setActive, user, active }) => {\n  const [loading, setLoading] = useState(true);\n  const [blogs, setBlogs] = useState([]);\n  const [tags, setTags] = useState([]);\n  const [search, setSearch] = useState(\"\");\n  const [lastVisible, setLastVisible] = useState(null);\n  const [trendBlogs, setTrendBlogs] = useState([]);\n  const [totalBlogs, setTotalBlogs] = useState(null);\n  const [hide, setHide] = useState(false);\n  const queryString = useQuery();\n  const searchQuery = queryString.get(\"searchQuery\");\n  const location = useLocation();\n\n  const getTrendingBlogs = async () => {\n    const blogRef = collection(db, \"blogs\");\n    const trendQuery = query(blogRef, where(\"trending\", \"==\", \"yes\"));\n    const querySnapshot = await getDocs(trendQuery);\n    let trendBlogs = [];\n    querySnapshot.forEach((doc) => {\n      trendBlogs.push({ id: doc.id, ...doc.data() });\n    });\n    setTrendBlogs(trendBlogs);\n  };\n\n  useEffect(() => {\n    getTrendingBlogs();\n    setSearch(\"\");\n    const unsub = onSnapshot(\n      collection(db, \"blogs\"),\n      (snapshot) => {\n        let list = [];\n        let tags = [];\n        snapshot.docs.forEach((doc) => {\n          tags.push(...doc.get(\"tags\"));\n          list.push({ id: doc.id, ...doc.data() });\n        });\n        const uniqueTags = [...new Set(tags)];\n        setTags(uniqueTags);\n        setTotalBlogs(list);\n        // setBlogs(list);\n        setLoading(false);\n        setActive(\"home\");\n      },\n      (error) => {\n        console.log(error);\n      }\n    );\n\n    return () => {\n      unsub();\n      getTrendingBlogs();\n    };\n  }, [setActive, active]);\n\n  useEffect(() => {\n    getBlogs();\n    setHide(false);\n  }, [active]);\n\n  const getBlogs = async () => {\n    const blogRef = collection(db, \"blogs\");\n    console.log(blogRef);\n    const firstFour = query(blogRef, orderBy(\"title\"), limit(4));\n    const docSnapshot = await getDocs(firstFour);\n    setBlogs(docSnapshot.docs.map((doc) => ({ id: doc.id, ...doc.data() })));\n    setLastVisible(docSnapshot.docs[docSnapshot.docs.length - 1]);\n  };\n\n  console.log(\"blogs\", blogs);\n\n  const updateState = (docSnapshot) => {\n    const isCollectionEmpty = docSnapshot.size === 0;\n    if (!isCollectionEmpty) {\n      const blogsData = docSnapshot.docs.map((doc) => ({\n        id: doc.id,\n        ...doc.data(),\n      }));\n      setBlogs((blogs) => [...blogs, ...blogsData]);\n      setLastVisible(docSnapshot.docs[docSnapshot.docs.length - 1]);\n    } else {\n      toast.info(\"No more blog to display\");\n      setHide(true);\n    }\n  };\n\n  const fetchMore = async () => {\n    setLoading(true);\n    const blogRef = collection(db, \"blogs\");\n    const nextFour = query(\n      blogRef,\n      orderBy(\"title\"),\n      limit(4),\n      startAfter(lastVisible)\n    );\n    const docSnapshot = await getDocs(nextFour);\n    updateState(docSnapshot);\n    setLoading(false);\n  };\n\n  const searchBlogs = async () => {\n    const blogRef = collection(db, \"blogs\");\n    const searchTitleQuery = query(blogRef, where(\"title\", \"==\", searchQuery));\n    const searchTagQuery = query(\n      blogRef,\n      where(\"tags\", \"array-contains\", searchQuery)\n    );\n    const titleSnapshot = await getDocs(searchTitleQuery);\n    const tagSnapshot = await getDocs(searchTagQuery);\n\n    let searchTitleBlogs = [];\n    let searchTagBlogs = [];\n    titleSnapshot.forEach((doc) => {\n      searchTitleBlogs.push({ id: doc.id, ...doc.data() });\n    });\n    tagSnapshot.forEach((doc) => {\n      searchTagBlogs.push({ id: doc.id, ...doc.data() });\n    });\n    const combinedSearchBlogs = searchTitleBlogs.concat(searchTagBlogs);\n    setBlogs(combinedSearchBlogs);\n    setHide(true);\n    setActive(\"\");\n  };\n\n  useEffect(() => {\n    if (!isNull(searchQuery)) {\n      searchBlogs();\n    }\n  }, [searchQuery]);\n\n  if (loading) {\n    return <Spinner />;\n  }\n\n  const handleDelete = async (id) => {\n    if (window.confirm(\"Are you sure wanted to delete that blog ?\")) {\n      try {\n        setLoading(true);\n        await deleteDoc(doc(db, \"blogs\", id));\n        toast.success(\"Blog deleted successfully\");\n        setLoading(false);\n      } catch (err) {\n        console.log(err);\n      }\n    }\n  };\n\n  const handleChange = (e) => {\n    const { value } = e.target;\n    if (isEmpty(value)) {\n      console.log(\"test\");\n      getBlogs();\n      setHide(false);\n    }\n    setSearch(value);\n  };\n\n  // category count\n  const counts = totalBlogs.reduce((prevValue, currentValue) => {\n    let name = currentValue.category;\n    if (!prevValue.hasOwnProperty(name)) {\n      prevValue[name] = 0;\n    }\n    prevValue[name]++;\n    // delete prevValue[\"undefined\"];\n    return prevValue;\n  }, {});\n\n  const categoryCount = Object.keys(counts).map((k) => {\n    return {\n      category: k,\n      count: counts[k],\n    };\n  });\n\n  console.log(\"categoryCount\", categoryCount);\n\n  return (\n    <div className=\"container-fluid pb-4 pt-4 padding\">\n      <div className=\"container padding\">\n        <div className=\"row mx-0\">\n          <Trending blogs={trendBlogs} />\n          <div className=\"col-md-8\">\n            <div className=\"blog-heading text-start py-2 mb-4\">Daily Blogs</div>\n            {blogs.length === 0 && location.pathname !== \"/\" && (\n              <>\n                <h4>\n                  No Blog found with search keyword:{\" \"}\n                  <strong>{searchQuery}</strong>\n                </h4>\n              </>\n            )}\n            {blogs?.map((blog) => (\n              <BlogSection\n                key={blog.id}\n                user={user}\n                handleDelete={handleDelete}\n                {...blog}\n              />\n            ))}\n\n            {!hide && (\n              <button className=\"btn btn-primary\" onClick={fetchMore}>\n                Load More\n              </button>\n            )}\n          </div>\n          <div className=\"col-md-3\">\n            <Search search={search} handleChange={handleChange} />\n            <div className=\"blog-heading text-start py-2 mb-4\">Tags</div>\n            <Tags tags={tags} />\n            <FeatureBlogs title={\"Most Popular\"} blogs={blogs} />\n            <Category catgBlogsCount={categoryCount} />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Home;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}