{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Lenovo\\\\Desktop\\\\firebase-blog-master\\\\src\\\\pages\\\\CategoryBlog.js\",\n    _s = $RefreshSig$();\n\nimport { collection, getDocs, query, where } from \"firebase/firestore\";\nimport React, { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport BlogSection from \"../components/BlogSection\";\nimport Spinner from \"../components/Spinner\";\nimport { db } from \"../firebase\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst CategoryBlog = _ref => {\n  _s();\n\n  let {\n    setActive\n  } = _ref;\n  const [categoryBlogs, setCategoryBlogs] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const {\n    category\n  } = useParams();\n\n  const getCategoryBlogs = async () => {\n    setLoading(true);\n    const blogRef = collection(db, \"blogs\");\n    const categoryBlogQuery = query(blogRef, where(\"category\", \"==\", category));\n    const docSnapshot = await getDocs(categoryBlogQuery);\n    let categoryBlogs = [];\n    docSnapshot.forEach(doc => {\n      categoryBlogs.push({\n        id: doc.id,\n        ...doc.data()\n      });\n    });\n    setCategoryBlogs(categoryBlogs);\n    setLoading(false);\n  };\n\n  useEffect(() => {\n    getCategoryBlogs();\n    setActive(null);\n  }, []);\n\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 12\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"blog-heading text-center py-2 mb-4\",\n          children: [\"Category: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: category.toLocaleUpperCase()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 40,\n            columnNumber: 23\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 11\n        }, this), categoryBlogs === null || categoryBlogs === void 0 ? void 0 : categoryBlogs.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-6\",\n          children: /*#__PURE__*/_jsxDEV(BlogSection, { ...item\n          }, item.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 5\n  }, this);\n};\n\n_s(CategoryBlog, \"0VKLTsTEi8D3zouYTk5dbD1CcbI=\", false, function () {\n  return [useParams];\n});\n\n_c = CategoryBlog;\nexport default CategoryBlog;\n\nvar _c;\n\n$RefreshReg$(_c, \"CategoryBlog\");","map":{"version":3,"names":["collection","getDocs","query","where","React","useState","useEffect","useParams","BlogSection","Spinner","db","CategoryBlog","setActive","categoryBlogs","setCategoryBlogs","loading","setLoading","category","getCategoryBlogs","blogRef","categoryBlogQuery","docSnapshot","forEach","doc","push","id","data","toLocaleUpperCase","map","item"],"sources":["C:/Users/Lenovo/Desktop/firebase-blog-master/src/pages/CategoryBlog.js"],"sourcesContent":["import { collection, getDocs, query, where } from \"firebase/firestore\";\nimport React, { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport BlogSection from \"../components/BlogSection\";\nimport Spinner from \"../components/Spinner\";\nimport { db } from \"../firebase\";\n\nconst CategoryBlog = ({ setActive }) => {\n  const [categoryBlogs, setCategoryBlogs] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const { category } = useParams();\n\n  const getCategoryBlogs = async () => {\n    setLoading(true);\n    const blogRef = collection(db, \"blogs\");\n    const categoryBlogQuery = query(blogRef, where(\"category\", \"==\", category));\n    const docSnapshot = await getDocs(categoryBlogQuery);\n    let categoryBlogs = [];\n    docSnapshot.forEach((doc) => {\n      categoryBlogs.push({ id: doc.id, ...doc.data() });\n    });\n    setCategoryBlogs(categoryBlogs);\n    setLoading(false);\n  };\n\n  useEffect(() => {\n    getCategoryBlogs();\n    setActive(null);\n  }, []);\n\n  if (loading) {\n    return <Spinner />;\n  }\n\n  return (\n    <div>\n      <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"blog-heading text-center py-2 mb-4\">\n            Category: <strong>{category.toLocaleUpperCase()}</strong>\n          </div>\n          {categoryBlogs?.map((item) => (\n            <div className=\"col-md-6\">\n              <BlogSection key={item.id} {...item} />\n            </div>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default CategoryBlog;\n"],"mappings":";;;AAAA,SAASA,UAAT,EAAqBC,OAArB,EAA8BC,KAA9B,EAAqCC,KAArC,QAAkD,oBAAlD;AACA,OAAOC,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,SAAT,QAA0B,kBAA1B;AACA,OAAOC,WAAP,MAAwB,2BAAxB;AACA,OAAOC,OAAP,MAAoB,uBAApB;AACA,SAASC,EAAT,QAAmB,aAAnB;;;AAEA,MAAMC,YAAY,GAAG,QAAmB;EAAA;;EAAA,IAAlB;IAAEC;EAAF,CAAkB;EACtC,MAAM,CAACC,aAAD,EAAgBC,gBAAhB,IAAoCT,QAAQ,CAAC,EAAD,CAAlD;EACA,MAAM,CAACU,OAAD,EAAUC,UAAV,IAAwBX,QAAQ,CAAC,KAAD,CAAtC;EACA,MAAM;IAAEY;EAAF,IAAeV,SAAS,EAA9B;;EAEA,MAAMW,gBAAgB,GAAG,YAAY;IACnCF,UAAU,CAAC,IAAD,CAAV;IACA,MAAMG,OAAO,GAAGnB,UAAU,CAACU,EAAD,EAAK,OAAL,CAA1B;IACA,MAAMU,iBAAiB,GAAGlB,KAAK,CAACiB,OAAD,EAAUhB,KAAK,CAAC,UAAD,EAAa,IAAb,EAAmBc,QAAnB,CAAf,CAA/B;IACA,MAAMI,WAAW,GAAG,MAAMpB,OAAO,CAACmB,iBAAD,CAAjC;IACA,IAAIP,aAAa,GAAG,EAApB;IACAQ,WAAW,CAACC,OAAZ,CAAqBC,GAAD,IAAS;MAC3BV,aAAa,CAACW,IAAd,CAAmB;QAAEC,EAAE,EAAEF,GAAG,CAACE,EAAV;QAAc,GAAGF,GAAG,CAACG,IAAJ;MAAjB,CAAnB;IACD,CAFD;IAGAZ,gBAAgB,CAACD,aAAD,CAAhB;IACAG,UAAU,CAAC,KAAD,CAAV;EACD,CAXD;;EAaAV,SAAS,CAAC,MAAM;IACdY,gBAAgB;IAChBN,SAAS,CAAC,IAAD,CAAT;EACD,CAHQ,EAGN,EAHM,CAAT;;EAKA,IAAIG,OAAJ,EAAa;IACX,oBAAO,QAAC,OAAD;MAAA;MAAA;MAAA;IAAA,QAAP;EACD;;EAED,oBACE;IAAA,uBACE;MAAK,SAAS,EAAC,WAAf;MAAA,uBACE;QAAK,SAAS,EAAC,KAAf;QAAA,wBACE;UAAK,SAAS,EAAC,oCAAf;UAAA,sCACY;YAAA,UAASE,QAAQ,CAACU,iBAAT;UAAT;YAAA;YAAA;YAAA;UAAA,QADZ;QAAA;UAAA;UAAA;UAAA;QAAA,QADF,EAIGd,aAJH,aAIGA,aAJH,uBAIGA,aAAa,CAAEe,GAAf,CAAoBC,IAAD,iBAClB;UAAK,SAAS,EAAC,UAAf;UAAA,uBACE,QAAC,WAAD,OAA+BA;UAA/B,GAAkBA,IAAI,CAACJ,EAAvB;YAAA;YAAA;YAAA;UAAA;QADF;UAAA;UAAA;UAAA;QAAA,QADD,CAJH;MAAA;QAAA;QAAA;QAAA;MAAA;IADF;MAAA;MAAA;MAAA;IAAA;EADF;IAAA;IAAA;IAAA;EAAA,QADF;AAgBD,CA3CD;;GAAMd,Y;UAGiBJ,S;;;KAHjBI,Y;AA6CN,eAAeA,YAAf"},"metadata":{},"sourceType":"module"}